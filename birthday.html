<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy Birthday Sujal!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;500;600&display=swap');

        :root {
            --primary: #FF6B6B;
            --secondary: #FF8E53;
            --accent: #4ECDC4;
            --dark: #1A535C;
            --light: #F7FFF7;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
        }

        .birthday-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            max-width: 1200px;
            width: 100%;
            margin: 40px auto;
            position: relative;
            transform: scale(0.98);
            transition: transform 0.5s ease, box-shadow 0.5s ease;
        }

        .birthday-card:hover {
            transform: scale(1);
            box-shadow: 0 25px 70px rgba(0, 0, 0, 0.2);
        }

        .header {
            background: linear-gradient(45deg, var(--primary), var(--secondary), var(--accent));
            padding: 40px 30px;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100' width='100' height='100'%3E%3Ccircle fill='white' opacity='0.1' cx='50' cy='50' r='5'/%3E%3C/svg%3E");
            animation: floating 20s linear infinite;
        }

        .header h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 4rem;
            margin: 0;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
            position: relative;
            animation: bounce 2s infinite;
        }

        .header p {
            font-size: 1.2rem;
            margin-top: 10px;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .message {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #444;
            margin-bottom: 30px;
            position: relative;
            padding: 20px;
            border-radius: 10px;
            background: #f9f9f9;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .message::before {
            content: "";
            font-family: 'Dancing Script', cursive;
            font-size: 5rem;
            position: absolute;
            top: -20px;
            left: 10px;
            color: var(--primary);
            opacity: 0.2;
        }

        .gallery-btn {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 16px 45px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            display: block;
            margin: 0 auto;
            box-shadow: 0 8px 20px rgba(255, 107, 107, 0.5);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .gallery-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, var(--accent), var(--dark));
            z-index: -1;
            transition: opacity 0.3s;
            opacity: 0;
            border-radius: 50px;
        }

        .gallery-btn:hover::before {
            opacity: 1;
        }

        .gallery-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(74, 205, 196, 0.6);
        }

        .gallery-container {
            display: none;
            margin-top: 40px;
            position: relative;
            padding: 20px 0;
        }

        .gallery-scroller {
            display: flex;
            overflow-x: auto;
            scroll-behavior: smooth;
            scroll-snap-type: x mandatory;
            gap: 30px;
            padding: 30px;
            margin: 0 20px;
            scrollbar-width: none;
        }

        .gallery-scroller::-webkit-scrollbar {
            display: none;
        }

        .polaroid {
            scroll-snap-align: center;
            background: white;
            padding: 15px 15px 30px 15px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            min-width: 320px;
            max-width: 380px;
            flex: 0 0 auto;
            transition: all 0.4s ease;
            transform: scale(0.95) rotate(-2deg);
            opacity: 0.7;
            border-radius: 5px;
            position: relative;
        }

        .polaroid::before {
            content: '';
            position: absolute;
            top: 10px;
            right: 10px;
            width: 30px;
            height: 5px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 5px;
        }

        .polaroid.active {
            transform: scale(1.05) rotate(0deg);
            opacity: 1;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            z-index: 2;
        }

        .polaroid img {
            width: 100%;
            height: 280px;
            object-fit: cover;
            display: block;
            border-radius: 3px;
            transition: all 0.4s ease;
            filter: sepia(0.2);
        }

        .polaroid.active img {
            filter: sepia(0);
        }

        .polaroid p {
            text-align: center;
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            margin-top: 15px;
            color: #333;
        }

        .gallery-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            width: 55px;
            height: 55px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s;
            z-index: 10;
        }

        .gallery-nav:hover {
            transform: translateY(-50%) scale(1.15);
            background: linear-gradient(45deg, var(--accent), var(--dark));
        }

        .gallery-nav.prev {
            left: 10px;
        }

        .gallery-nav.next {
            right: 10px;
        }

        .gallery-indicators {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-top: 25px;
        }

        .indicator {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: #ddd;
            cursor: pointer;
            transition: all 0.3s;
        }

        .indicator.active {
            background: var(--primary);
            transform: scale(1.4);
            box-shadow: 0 0 10px var(--primary);
        }

        .add-more-note {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 10px;
            font-style: italic;
            color: #777;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            position: relative;
            overflow: hidden;
        }

        .add-more-note::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: linear-gradient(to bottom, var(--primary), var(--accent));
        }

        .footer {
            text-align: center;
            padding: 25px;
            color: #777;
            font-size: 0.9rem;
            border-top: 1px solid #eee;
            background: #f9f9f9;
        }

        .heart {
            color: var(--primary);
            animation: pulse 1.5s infinite;
        }

        .floating-balloons {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 0;
        }

        .balloon {
            position: absolute;
            width: 50px;
            height: 60px;
            border-radius: 50%;
            animation: float 15s infinite ease-in-out;
        }

        .balloon::before {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 40px;
            background: rgba(0, 0, 0, 0.2);
        }

        .balloon:nth-child(1) {
            background: rgba(255, 107, 107, 0.7);
            top: 10%;
            left: 10%;
            animation-duration: 25s;
        }

        .balloon:nth-child(2) {
            background: rgba(78, 205, 196, 0.7);
            top: 20%;
            right: 15%;
            animation-duration: 20s;
            animation-delay: 1s;
        }

        .balloon:nth-child(3) {
            background: rgba(255, 142, 83, 0.7);
            bottom: 30%;
            left: 15%;
            animation-duration: 22s;
            animation-delay: 2s;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            opacity: 0;
            animation: confettiFall 5s linear infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }

            100% {
                transform: scale(1);
            }
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0) rotate(0deg);
            }

            50% {
                transform: translateY(-20px) rotate(5deg);
            }
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes confettiFall {
            0% {
                opacity: 1;
                transform: translateY(-100px) rotate(0deg);
            }

            100% {
                opacity: 0;
                transform: translateY(1000px) rotate(720deg);
            }
        }

        @keyframes floating {
            0% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }

            100% {
                transform: translateY(0);
            }
        }

        .music-player {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            z-index: 100;
            transition: all 0.3s;
        }

        .music-player:hover {
            transform: scale(1.1);
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 3rem;
            }

            .content {
                padding: 25px;
            }

            .polaroid {
                min-width: 280px;
            }

            .polaroid img {
                height: 240px;
            }

            .gallery-nav {
                width: 45px;
                height: 45px;
                font-size: 1.1rem;
            }

            .message {
                padding: 15px;
            }
        }

        @media (max-width: 480px) {
            .header {
                padding: 25px 15px;
            }

            .header h1 {
                font-size: 2.5rem;
            }

            .polaroid {
                min-width: 240px;
            }

            .polaroid img {
                height: 200px;
            }

            .gallery-nav {
                width: 40px;
                height: 40px;
            }

            .gallery-btn {
                padding: 14px 30px;
                font-size: 1.1rem;
            }
        }
    </style>
</head>

<body>
    <div class="floating-balloons">
        <div class="balloon"></div>
        <div class="balloon"></div>
        <div class="balloon"></div>
    </div>

    <div class="pink-blob blob-1"></div>
    <div class="pink-blob blob-2"></div>

    <div class="birthday-card">
      <div class="header">
        <h1>Happy Birthday Sujal!</h1>
        <p>Celebrating the amazing person you are</p>
      </div>

      <div class="content">
        <div class="message">
          <p>My dearest sujuuu,</p>
          <p>
            On this special day, I want to remind you how incredibly amazing you
            are, how special you are for me.
          </p>
          <p>
            Now it's been 2 years since we've known each other, and I never
            imagined in my wildest dreams that I would find someone like you.
            From Sujal to Sujuuu, this journey has been incredible, and I know
            there's so much more ahead of us.
          </p>
          <p>
            Sujuuu, I wish I could celebrate your birthday with you in person,
            but distance can't diminish my feelings. Remember that I'm always
            here for you, in any situation, at any time.
          </p>
          
          <p>Happiest Birthday to My Dear Sujal</p>
          <p>Your special someone <i class="fas fa-heart heart"></i></p>
        </div>

        <button class="gallery-btn" onclick="toggleGallery()">
          <i class="fas fa-camera"></i> Open Our Memory Gallery
        </button>

        <div class="gallery-container" id="gallery-container">
          <button class="gallery-nav prev" onclick="scrollGallery('prev')">
            <i class="fas fa-chevron-left"></i>
          </button>

          <div class="gallery-scroller" id="gallery-scroller">
            <!-- Polaroid-style images with captions -->
            <div class="polaroid active">
              <img src="./img/1.jpg" alt="Our First Meeting" />
              <p>Our First Meeting</p>
            </div>

            <div class="polaroid">
              <img src="./img/2.jpg" alt="Beach Day Fun" />
              <p>School revisit</p>
            </div>

            <div class="polaroid">
              <img src="./img/3.jpg" alt="Sunset Moments" />
              <p>Second Meeting</p>
            </div>

            <div class="polaroid">
              <img src="./img/4.jpg" alt="Special Celebration" />
              <p>Park Meet</p>
            </div>

            <div class="polaroid">
              <img src="./img/5.jpg" alt="Our Adventure" />
              <p>Selfiee time</p>
            </div>

            <div class="polaroid">
              <img src="./img/6.jpg" alt="Romantic Dinner" />
              <p>Park Meet</p>
            </div>

            <div class="polaroid">
              <img src="./img/7.jpg" alt="Travel Together" />
              <p>Park Selfiee</p>
            </div>

            <div class="polaroid">
              <img src="./img/8.jpg" alt="Laughter Times" />
              <p>Park Selfiee</p>
            </div>

            <div class="polaroid">
              <img src="./img/9.jpg" alt="Winter Warmth" />
              <p>Coco Date at park</p>
            </div>

            <div class="polaroid">
              <img src="./img/10.jpg" alt="Our Future" />
              <p>Before/after</p>
            </div>

            <div class="polaroid">
              <img src="./img/11.jpg" alt="Our Future" />
              <p>At Bander</p>
            </div>

            <div class="polaroid">
              <img src="./img/12.jpg" alt="Our Future" />
              <p>Dominoz pizza</p>
            </div>

            <div class="polaroid">
              <img src="./img/13.jpg" alt="Our Future" />
              <p>Dominoz Pizza</p>
            </div>

            <div class="polaroid">
              <img src="./img/14.jpg" alt="Our Future" />
              <p>Before/after</p>
            </div>

            <div class="polaroid">
              <img src="./img/15.jpg" alt="Our Future" />
              <p>Bander click</p>
            </div>

            <div class="polaroid">
              <img src="./img/16.jpg" alt="Our Future" />
              <p>Random Click</p>
            </div>

            <div class="polaroid">
              <img src="./img/17.jpg" alt="Our Future" />
              <p>Hair pose</p>
            </div>

            <div class="polaroid">
              <img src="./img/18.jpg" alt="Our Future" />
              <p>some random grid</p>
            </div>

            <div class="polaroid">
              <img src="./img/19.jpg" alt="Our Future" />
              <p>Couple pose</p>
            </div>

            <div class="polaroid">
              <img src="./img/20.webp" alt="Our Future" />
              <p>Gibli art</p>
            </div>

            <div class="polaroid">
              <img src="./img/21.jpg" alt="Our Future" />
              <p>Fighting pose</p>
            </div>

            <div class="polaroid">
              <img src="./img/22.jpg" alt="Our Future" />
              <p>Mine pose</p>
            </div>

            <div class="polaroid">
              <img src="./img/23.jpg" alt="Our Future" />
              <p>Same cap</p>
            </div>

            <div class="polaroid">
              <img src="./img/24.jpg" alt="Our Future" />
              <p>random(BTS)</p>
            </div>

            <div class="polaroid">
              <img src="./img/25.jpg" alt="Our Future" />
              <p>Click by hirav</p>
            </div>

            <div class="polaroid">
              <img src="./img/26.jpg" alt="Our Future" />
              <p>Random Click(BTS)</p>
            </div>

            <div class="polaroid">
              <img src="./img/27.jpg" alt="Our Future" />
              <p>Kayo pose apu...</p>
            </div>

            <div class="polaroid">
              <img src="./img/28.jpg" alt="Our Future" />
              <p>Pose(Take 1)</p>
            </div>

            <div class="polaroid">
              <img src="./img/29.jpg" alt="Our Future" />
              <p>Pose(Take 2)</p>
            </div>

            <div class="polaroid">
              <img src="./img/30.jpg" alt="Our Future" />
              <p>Pose(Take 3)</p>
            </div>

            <div class="polaroid">
              <img src="./img/32.jpg" alt="Our Future" />
              <p>Pose(Final Take)</p>
            </div>

            <div class="polaroid">
              <img src="./img/31.jpg" alt="Our Future" />
              <p>Try Differnt pose</p>
            </div>

            <div class="polaroid">
              <img src="./img/32.jpg" alt="Our Future" />
              <p>Pose(Final Take)</p>
            </div>

            <div class="polaroid">
              <img src="./img/33.jpg" alt="Our Future" />
              <p>Dr.Sujal Naik(personal doctor)</p>
            </div>

            <div class="polaroid">
              <img src="./img/34.jpg" alt="Our Future" />
              <p>Beautiful</p>
            </div>

            <div class="polaroid">
              <img src="./img/35.jpg" alt="Our Future" />
              <p>With zumka</p>
            </div>

            <div class="polaroid">
              <img src="./img/36.jpg" alt="Our Future" />
              <p>Freshers</p>
            </div>

            <div class="polaroid">
              <img src="./img/37.jpg" alt="Our Future" />
              <p>With teddy</p>
            </div>

            <div class="polaroid">
              <img src="./img/38.jpg" alt="Our Future" />
              <p>Cutness overloaded</p>
            </div>

            <div class="polaroid">
              <img src="./img/39.webp" alt="Our Future" />
              <p>With zumka(by hirav)</p>
            </div>

            <div class="polaroid">
              <img src="./img/40.webp" alt="Our Future" />
              <p>Hello you..</p>
            </div>

            <div class="polaroid">
              <img src="./img/41.jpg" alt="Our Future" />
              <p>Beautiful Princess</p>
            </div>

            <div class="polaroid">
              <img src="./img/42.jpg" alt="Our Future" />
              <p>Beautiful Princess</p>
            </div>

            <div class="polaroid">
              <img src="./img/43.jpg" alt="Our Future" />
              <p>Looking cool</p>
            </div>

            <div class="polaroid">
              <img src="./img/44.jpg" alt="Our Future" />
              <p>Lookinig cool</p>
            </div>

            <div class="polaroid">
              <img src="./img/45.jpg" alt="Our Future" />
              <p>Again we are at park</p>
            </div>

            <div class="polaroid">
              <img src="./img/46.jpg" alt="Our Future" />
              <p>Park selfiee</p>
            </div>

            <div class="polaroid">
              <img src="././img/47.jpg" alt="Our Future" />
              <p>Selfiee by sujuu</p>
            </div>

            <div class="polaroid">
              <img src="./img/48.jpg" alt="Our Future" />
              <p>Just look at this</p>
            </div>

            <div class="polaroid">
              <img src="./img/49.jpg" alt="Our Future" />
              <p>Looking like a woww</p>
            </div>

            <div class="polaroid">
              <img src="./img/50.jpg" alt="Our Future" />
              <p>Good to be gether</p>
            </div>
          </div>

          <button class="gallery-nav next" onclick="scrollGallery('next')">
            <i class="fas fa-chevron-right"></i>
          </button>

          <div class="gallery-indicators" id="gallery-indicators">
            <!-- Indicators will be generated by JavaScript -->
          </div>
        </div>
      </div>

      <div class="footer">
        <p>
          Made with <i class="fas fa-heart heart"></i> for Sujal's Special Day
        </p>
      </div>
    </div>

    <div class="music-player" onclick="toggleMusic()">
      <i class="fas fa-music" id="music-icon"></i>
      <audio id="birthday-song" loop>
        <source
          src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"
          type="audio/mpeg"
        />
      </audio>
    </div>

    <script>
        let currentIndex = 0;
        const polaroids = document.querySelectorAll('.polaroid');
        const scroller = document.getElementById('gallery-scroller');
        const indicatorsContainer = document.getElementById('gallery-indicators');
        const audio = document.getElementById('birthday-song');
        const musicIcon = document.getElementById('music-icon');
        let isPlaying = false;

        // ----------- FIXED INDICATORS (max 7) -------------
        const MAX_INDICATORS = 7;
        const totalImages = polaroids.length;
        const step = Math.ceil(totalImages / MAX_INDICATORS);

        for (let i = 0; i < Math.min(MAX_INDICATORS, totalImages); i++) {
            const indicator = document.createElement('div');
            indicator.classList.add('indicator');
            if (i === 0) indicator.classList.add('active');

            indicator.addEventListener('click', () => {
                const targetIndex = i * step;
                scrollToImage(Math.min(targetIndex, totalImages - 1));
            });

            indicatorsContainer.appendChild(indicator);
        }

        const indicators = document.querySelectorAll('.indicator');

        // ------------------ Floating balloons -------------------
        function createBalloons() {
            const balloonsContainer = document.querySelector('.floating-balloons');
            const colors = ['rgba(255, 107, 107, 0.7)', 'rgba(78, 205, 196, 0.7)', 'rgba(255, 142, 83, 0.7)',
                'rgba(26, 83, 92, 0.7)', 'rgba(247, 255, 247, 0.7)'];

            for (let i = 0; i < 15; i++) {
                const balloon = document.createElement('div');
                balloon.classList.add('balloon');
                balloon.style.background = colors[Math.floor(Math.random() * colors.length)];
                balloon.style.left = Math.random() * 100 + '%';
                balloon.style.top = Math.random() * 100 + '%';
                balloon.style.animationDuration = (15 + Math.random() * 15) + 's';
                balloon.style.animationDelay = (Math.random() * 5) + 's';
                balloonsContainer.appendChild(balloon);
            }
        }

        // ------------------ Confetti -------------------
        function createConfetti() {
            const confettiContainer = document.createElement('div');
            confettiContainer.style.position = 'fixed';
            confettiContainer.style.top = '0';
            confettiContainer.style.left = '0';
            confettiContainer.style.width = '100%';
            confettiContainer.style.height = '100%';
            confettiContainer.style.pointerEvents = 'none';
            confettiContainer.style.zIndex = '9999';
            document.body.appendChild(confettiContainer);

            const colors = ['#FF6B6B', '#FF8E53', '#4ECDC4', '#1A535C', '#F7FFF7'];
            const shapes = ['square', 'circle', 'triangle'];

            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.width = (5 + Math.random() * 10) + 'px';
                confetti.style.height = (5 + Math.random() * 10) + 'px';
                confetti.style.animationDelay = (Math.random() * 5) + 's';

                const shape = shapes[Math.floor(Math.random() * shapes.length)];
                if (shape === 'circle') {
                    confetti.style.borderRadius = '50%';
                } else if (shape === 'triangle') {
                    confetti.style.width = '0';
                    confetti.style.height = '0';
                    confetti.style.background = 'transparent';
                    confetti.style.borderLeft = '8px solid transparent';
                    confetti.style.borderRight = '8px solid transparent';
                    confetti.style.borderBottom = `15px solid ${colors[Math.floor(Math.random() * colors.length)]}`;
                }

                confettiContainer.appendChild(confetti);
            }

            setTimeout(() => {
                document.body.removeChild(confettiContainer);
            }, 5000);
        }

        // ------------------ Music toggle -------------------
        function toggleMusic() {
            if (isPlaying) {
                audio.pause();
                musicIcon.classList.remove('fa-pause');
                musicIcon.classList.add('fa-music');
            } else {
                audio.play();
                musicIcon.classList.remove('fa-music');
                musicIcon.classList.add('fa-pause');
            }
            isPlaying = !isPlaying;
        }

        // ------------------ Gallery toggle -------------------
        function toggleGallery() {
            const galleryContainer = document.getElementById('gallery-container');
            const button = document.querySelector('.gallery-btn');

            if (galleryContainer.style.display === 'block') {
                galleryContainer.style.display = 'none';
                button.innerHTML = '<i class="fas fa-camera"></i> Open Our Memory Gallery';
            } else {
                galleryContainer.style.display = 'block';
                button.innerHTML = '<i class="fas fa-times"></i> Close Gallery';
                createConfetti();

                galleryContainer.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // ------------------ Gallery navigation -------------------
        function scrollGallery(direction) {
            if (direction === 'prev' && currentIndex > 0) {
                currentIndex--;
            } else if (direction === 'next' && currentIndex < polaroids.length - 1) {
                currentIndex++;
            }

            scrollToImage(currentIndex);
        }

        function scrollToImage(index) {
            currentIndex = index;
            const polaroid = polaroids[index];

            // Update active polaroid
            polaroids.forEach(p => p.classList.remove('active'));
            polaroid.classList.add('active');

            // Scroll to the polaroid
            scroller.scrollTo({
                left: polaroid.offsetLeft - (scroller.offsetWidth - polaroid.offsetWidth) / 2,
                behavior: 'smooth'
            });

            // Update indicators (based on group)
            const groupIndex = Math.floor(index / step);
            indicators.forEach((indicator, i) => {
                indicator.classList.toggle('active', i === groupIndex);
            });
        }

        // ------------------ Scroll listener -------------------
        scroller.addEventListener('scroll', () => {
            const scrollPosition = scroller.scrollLeft + scroller.offsetWidth / 2;

            let centerIndex = 0;
            let minDistance = Infinity;

            polaroids.forEach((polaroid, index) => {
                const polaroidCenter = polaroid.offsetLeft + polaroid.offsetWidth / 2;
                const distance = Math.abs(polaroidCenter - scrollPosition);

                if (distance < minDistance) {
                    minDistance = distance;
                    centerIndex = index;
                }
            });

            if (centerIndex !== currentIndex) {
                currentIndex = centerIndex;

                polaroids.forEach(p => p.classList.remove('active'));
                polaroids[centerIndex].classList.add('active');

                const groupIndex = Math.floor(centerIndex / step);
                indicators.forEach((indicator, i) => {
                    indicator.classList.toggle('active', i === groupIndex);
                });
            }
        });

        // ------------------ Keyboard navigation -------------------
        document.addEventListener('keydown', (e) => {
            if (document.getElementById('gallery-container').style.display === 'block') {
                if (e.key === 'ArrowLeft') {
                    scrollGallery('prev');
                } else if (e.key === 'ArrowRight') {
                    scrollGallery('next');
                }
            }
        });

        // Initialize
        createBalloons();
    </script>
</body>

</html>
